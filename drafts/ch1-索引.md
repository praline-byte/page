---
layout: post
title: 搜索引擎第一行代码（一）—— 检索是什么
categories: 搜索引擎 数据结构
description: 
keywords: 搜索引擎 数据结构 索引
---

# 检索到底是什么

业务背景：靓仔文化有限公司

想象我们有一些个存放靓仔的大池子，来一个靓仔，就向池子里丢，由于不用考虑动作姿势等限制条件，所以这个过程非常块。

![](/images/posts/B+树_images/大池子-1.png)

当一个池子满了的时候，就向另一个池子里丢。

来报名的靓仔络绎不绝，很快我们就蓄满了许多个大池子。

![](/images/posts/B+树_images/大池子-2.png)

目前为止，公司业务运作良好。

这时候有一个小孩来前台问："我想找一下我表舅秦大壮"。

为了寻找"秦大壮"不得不在每个大池子面前都喊一遍，在我司业务蓬勃发展中，加入我司的靓仔越来越多，池子也越来越多。极端情况下要遍历所有的大池子，显然这种方式是超级耗时的。

这时候**索引**登场了。

一句话简单来说，索引一种是为了提高数据查询效率的数据结构，就像书的目录一样。
>一本 500 页的书，如果你想快速找到其中的某一个知识点，在不借助目录的情况下，那我估计你可得找一会儿。
>
>同样，对于数据库的表而言，索引其实就是它的"目录"。

三种常见，也比较简单的数据结构，它们分别是哈希表、有序数组和搜索树。

## 哈希表

哈希表是一种以键值存储数据的结构，我们只要输入待查找的值即 key，就可以找到其对应的值即 Value。

![](/images/posts/B+树_images/哈希表.png)
   
>不可避免地，多个 key 值经过哈希函数的换算，会出现同一个值的情况。处理这种情况的方法是，拉出一个链表或者开放寻址。   
>     
>缺点是，因为不是有序的，所以哈希索引做区间查询的速度是很慢的。哈希表这种结构适用于只有等值查询的场景。
        
## 有序数组

有序数组在等值查询和范围查询场景中的性能就都非常优秀，用二分法就可以快速得到，但是，在需要更新数据的时候就麻烦了，往中间插入一个记录就必须得挪动后面所有的记录，成本太高。
如果记录的更新非常频繁，就需要有序链表了。

![](/images/posts/B+树_images/有序数组.png)

>数组和链表分别代表了连续空间和不连续空间的最基础的存储方式，它们是线性表的典型代表。其他所有的数据结构，比如栈、队列、二叉树、B+ 树等，都不外乎是这两者的结合和变化
                                                                                            
- 数组需要连续的存储空间，检索效率非常高，但存储时涉及数据的复制移动，成本很大                             
- 链表可以申请不连续的空间，通过指针按顺序将这些空间串联起来，存储时仅涉及插入节点的指针移动，存储效率非常高，但是检索效率不高

## 搜索树

搜索树，由于在读写上的性能优点，以及适配磁盘的访问模式，已经被广泛应用在数据库引擎中

![](/images/posts/B+树_images/搜索树.png)

# 搜索引擎的第一行代码



